<div class="row">
    <div class="col-lg-12">
        <h2>Project 2 - Fork-Join Threadpool</h2>
        <div class="col-lg-10">
            <div class="panel panel-success">
                <div class="panel-heading">
                    Project Information
                </div>
                <div class="panel-body">
                    <ul>
                        <li>Read the <a ng-href="projects/threadpool-handout.pdf">Project Handout</a>.
                            <!--
                                            <li>Help Sessions:
                                                <table class="table">
                                                    <tr><th>When</th><th>Where</th><th>Who</th><th>Slides</th></tr>
                                                    <tr><td>TBA</td><td>TBA</td><td>TBA</td>
                                                        <td>
                                                            <a ng-href="{{course.projects.p1.helpsessionpdf}}">PDF,</a>
                                                            <a ng-href="{{course.projects.p1.helpsessionpptx}}">PPTX</a>
                                                        </td>
                                                    </tr>
                                                    <tr><td>TBA</td><td>TBA</td><td>TBA</td>
                                                        <td>
                                                        </td>
                                                    </tr>
                                                </table>
                                            </li>
                            -->
                        <li>Please register <a href="#!/grouper">your group</a>.
                        </li>
                        <li>URL to <a ng-href="https://git.cs.vt.edu/cs3214-staff/threadlab">Git repository for base code</a>.
                        </li>
                        <li>You can try the following <a ui-sref="willgrind">experimental tool</a> to help you debug.
                        </li>
                        <li><p>
                            <b>How to run the provided tests:</b>
                            Use the program <code>fjdriver.py</code>.
                        </p>
                        </li>
                        <li><p>To share your results with others, use <code>fjpostresults.py</code>.
                            See the <a ui-sref="p2scoreboard">FJ Scoreboard</a> for results others have obtained.
                            Note that these results are preliminary, single-sample, and submitted via the honor system,
                            so they serve to give only a rough
                            indication of your FJ framework's relative performance. You may choose to have your uid hidden
                            to others (the default) or displayed (use the -p switch to fjpostresults.py) on the scoreboard.
                            You can remove your posted results are any time.
                        </li>
                    </ul>
                    <div class="alert alert-info"><b>How to submit:</b> Submit using the <a ui-sref="submissions">submission page</a> or from the command line via <code>submit.py</code>
                        under <code>p2</code>.
                    </div>
                </div>
            </div>
        </div>


        <div class="col-lg-10">
            <faq faq-heading="FJ FAQ">
                <uib-accordion close-others="oneAtATime">

                    <uib-accordion-group in-faq heading="How do I tell if a submission via thread_pool_submit is internal or external?">
                        <p>
                            Internal submissions are made by worker threads during the execution of other tasks. External submissions
                            are made by threads outside the thread pool that do not currently process tasks.
                            Use a thread-local variable, which will have different values depending on which thread is accessing it.
                            For external threads, which will not set this variable, it will have a value of 0 (NULL if it's a pointer).
                            For worker threads, set the variable to a suitable value that will help you process the submitted task.
                        </p>
                        <p>
                            In pre-C11 GNU C, you'd use <a href="https://gcc.gnu.org/onlinedocs/gcc-3.3/gcc/Thread-Local.html">__thread</a>.
                            In C11, use <a href="https://en.wikipedia.org/wiki/Thread-local_storage#C_and_C.2B.2B">_Thread_local</a>.
                        </p>
                    </uib-accordion-group>

                    <uib-accordion-group in-faq heading="Using _Thread_local does not work!">
                        <p>
                            As of Spring 2018, /usr/bin/gcc refers to gcc 4.8.5 which indeed <a href="https://gcc.gnu.org/wiki/C11Status">does not support</a> the <code>_Thread_local</code> keyword.
                            Use <code>__thread</code> or use gcc 4.9.2, which you will have in your path if you run <code>scl enable devtoolset-3 bash</code>. (You need to repeat
                            that every time you log on.)
                        </p>
                    </uib-accordion-group>

                    <uib-accordion-group in-faq heading="Where are other examples of FJ programs I could port?">
                        <p>
                            Check out the <a href="https://github.com/dmlloyd/jsr166/tree/master/src/test/loops">benchmarks</a> that are part of the JSR-166 project
                            which maintains Java 8's FJP.
                        </p>
                    </uib-accordion-group>

                </uib-accordion>
            </faq>
        </div>
    </div>
</div>
